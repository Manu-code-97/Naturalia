<nav id="nav">
    <div class="container justify-content-evenly">
        <ul class="fody row" role="menu">
            <li class="sub-menu-parent col-3" role="menuitem">
                <a href="#">Nos rayons <img src="{{ asset('img/card/select.svg') }}" alt="?"></a>
                <ul class="sub-menu" role="menu">
                    {% for category in categoriesMenu %}
                        <li role="menuitem">
                            <a href="{{ path('catProduits', {'category': category.slug}) }}">{{ category.nom }}</a>
                            <ul class="sub-menu-enfant" role="menu">
                                {% for child in category.sousCategories %}
                                    <li role="menuitem">
                                        <a href="{{ path('sousCatProduits', {'category': category.slug, 'sousCategory': child.slug}) }}">{{ child.nom }}</a>
                                    </li>
                                {% endfor %}
                            </ul>
                        </li>
                    {% endfor %}
                </ul>
            </li>
            </li>
            <li class="sub-menu-parent col-3" >
                <a href="{{path('app_profil')}}#favoris">Mes favoris</a>
                {# <ul class="sub-menu">
                    <li><a href="#">Liste 1</a></li>
                    <li><a href="#">Liste 2</a></li>
                    <li><a href="#">Liste 3</a></li>
                    <li><a href="#">Liste 4</a></li>
                    <li><a href="#">Liste 5</a></li>
                    <li><a href="#">Liste 6</a></li>
                </ul> #}
            </li>
            <li class="sub-menu-parent col-3">
                <a href="#">Recettes bio <img src="{{ asset('img/card/select.svg') }}" alt="?"></a>
                <ul class="sub-menu">
                    <li><a href="#">Recette du jour</a></li>
                    <li><a href="#">Recette du mois</a></li>
                    <li><a href="#">Recette de l'ann√©e</a></li>
                </ul>
            </li>
            <li class="sub-menu-parent col-3">
                <a href="{{ path('app_a-propos') }}">Nos engagements</a>
                
            </li>
        </ul>
    </div>
</nav>

<script>
    document.querySelectorAll('.sub-menu-parent').forEach(parent => {
        parent.addEventListener('mouseover', () => {
            const subMenu = parent.querySelector('.sub-menu');
            if (subMenu) {
                subMenu.style.visibility = 'visible';
                subMenu.style.opacity = '1';
                subMenu.style.transform = 'translateY(0)';
            }
        });

        parent.addEventListener('mouseout', () => {
            const subMenu = parent.querySelector('.sub-menu');
            if (subMenu) {
                subMenu.style.visibility = 'hidden';
                subMenu.style.opacity = '0';
                subMenu.style.transform = 'translateY(-10px)';
            }
        });
    });

    document.querySelectorAll('.sub-menu li').forEach(child => {
        child.addEventListener('mouseover', () => {
            const subMenuEnfant = child.querySelector('.sub-menu-enfant');
            if (subMenuEnfant) {
                subMenuEnfant.style.visibility = 'visible';
                subMenuEnfant.style.opacity = '1';
                subMenuEnfant.style.transform = 'translateX(0)';
            }
        });

        child.addEventListener('mouseout', () => {
            const subMenuEnfant = child.querySelector('.sub-menu-enfant');
            if (subMenuEnfant) {
                subMenuEnfant.style.visibility = 'hidden';
                subMenuEnfant.style.opacity = '0';
                subMenuEnfant.style.transform = 'translateX(-10px)';
            }
        });
    });
</script>
